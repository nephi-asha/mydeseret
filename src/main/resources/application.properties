spring.application.name=mydeseret
server.port=8080

# --- DATABASE (Render PostgreSQL) ---
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# --- JPA / HIBERNATE ---
spring.jpa.hibernate.ddl-auto=validate
spring.main.allow-bean-definition-overriding=true
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# --- RABBITMQ CONFIG (CloudAMQP) ---
spring.rabbitmq.host=${RABBITMQ_HOST}
spring.rabbitmq.port=${RABBITMQ_PORT:5672}
spring.rabbitmq.username=${RABBITMQ_USERNAME}
spring.rabbitmq.password=${RABBITMQ_PASSWORD}
spring.rabbitmq.virtual-host=${RABBITMQ_VHOST}
spring.rabbitmq.ssl.enabled=true

# RabbitMQ Application Queues & Exchanges
app.rabbitmq.exchange=internal.exchange
app.rabbitmq.queue.notification=notification.queue
app.rabbitmq.queue.stock-alerts=stock-alerts.queue
app.rabbitmq.queue.reports=reports.queue
app.rabbitmq.routingkey.notification=internal.notification
app.rabbitmq.routingkey.stock-alerts=internal.stock-alerts
app.rabbitmq.routingkey.reports=internal.reports

# --- REDIS CONFIG (Upstash) ---
spring.cache.type=redis
spring.data.redis.host=${REDIS_HOST}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD}
spring.data.redis.ssl.enabled=true
# Default time-to-live (1 hour)
spring.cache.redis.time-to-live=3600000

# --- CLOUDFLARE R2 STORAGE (S3 Compatible) ---
# R2 requires the endpoint URL (e.g., https://<accountid>.r2.cloudflarestorage.com)
aws.accessKeyId=${R2_ACCESS_KEY_ID}
aws.secretAccessKey=${R2_SECRET_ACCESS_KEY}
aws.s3.bucketName=${R2_BUCKET_NAME}
aws.s3.endpoint=${R2_ENDPOINT_URL}
aws.region=auto

# --- EMAIL SETTINGS ---
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=3000
spring.mail.properties.mail.smtp.writetimeout=5000

# --- SECURITY ---
app.jwt.secret=${JWT_SECRET}

# --- SWAGGER ---
springdoc.swagger-ui.operationsSorter=method

# --- FLYWAY (Database Migration) ---
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migrations/public
spring.flyway.schemas=public
spring.flyway.baseline-on-migrate=true
spring.flyway.out-of-order=true

# --- ACTUATOR & MONITORING ---
management.endpoints.web.exposure.include=health,info,prometheus
management.endpoint.health.show-details=always
management.endpoint.prometheus.enabled=true

# --- PERFORMANCE ---
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
server.compression.min-response-size=1024

# --- AI CONFIGURATION ---
spring.ai.openai.api-key=${OPENAI_API_KEY}
# Vector Store (PGVector)
spring.ai.vectorstore.pgvector.index-type=HNSW
spring.ai.vectorstore.pgvector.dimension=1536 

# --- FRONTEND INTEGRATION ---
app.frontend.url=${FRONTEND_URL}
app.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:5500,http://127.0.0.1:5500,http://127.0.0.1:3000}

# --- PAYMENT GATEWAYS ---
stripe.secret.key=${STRIPE_SECRET_KEY}
paystack.secret-key=${PAYSTACK_SECRET_KEY}
paystack.base-url=https://api.paystack.co

# --- SUPER ADMIN SEEDING ---
app.super-admin.email=${SUPER_ADMIN_EMAIL}
app.super-admin.password=${SUPER_ADMIN_PASSWORD}
app.super-admin.first-name=${SUPER_ADMIN_FIRST_NAME:Nephi}
app.super-admin.last-name=${SUPER_ADMIN_LAST_NAME:Asha}
app.super-admin.username=${SUPER_ADMIN_USERNAME:admin}
app.super-admin.business-name=${SUPER_ADMIN_BUSINESS_NAME:MyDeseret}